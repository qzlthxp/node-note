# æ–‡ä»¶è¯»å†™

## åŒæ­¥è¯»å–æ–‡ä»¶

1. å¼•å…¥ `fs` æ¨¡å—

   ```js
   const fs = require('fs')
   ```

2. ä½¿ç”¨ `fs` çš„ `readFileSync` æ–¹æ³•è¯»å–æ–‡ä»¶å†…å®¹

   ```js
   const textIn = fs.readFileSync(/*éœ€è¦è¯»å–æ–‡ä»¶çš„åœ°å€*/, /*æ–‡ä»¶ç¼–ç  ä¾‹å¦‚ utf-8*/)
   ```

## åŒæ­¥å†™å…¥æ–‡ä»¶

1. åŒæ ·çš„å¼•å…¥ `fs` æ¨¡å—

   ```js
   const fs = require('fs')
   ```

2. ä½¿ç”¨ `fs` æ¨¡å—çš„ `writeFileSync` æ–¹æ³•

   ```js
   const textOut = `Created on ${Date.now()}`
   fs.writeFileSync(/*éœ€è¦å†™å…¥å†…å®¹çš„æ–‡ä»¶åœ°å€ï¼Œæ–‡ä»¶ä¸å­˜åœ¨ä¼šåˆ›å»º*/, textOut/*éœ€è¦å†™å…¥çš„å†…å®¹*/)
   ```

è§£å†³åŒæ­¥é˜»å¡é—®é¢˜ï¼Œä½¿ç”¨å¼‚æ­¥æ–¹æ³•ã€‚è§£å†³å›è°ƒåœ°ç‹±ï¼ˆcallback hellï¼‰ï¼Œä½¿ç”¨ `Promise` æˆ–è€… `async/await`

## å¼‚æ­¥è¯»å–æ–‡ä»¶

1. å¼•å…¥ `fs` æ¨¡å—

   ```js
   const fs = require('fs')
   ```

2. ä½¿ç”¨ `fs` çš„ `readFile` æ–¹æ³•

   ```js
   fs.readFile(
     /*è¯»å–æ–‡ä»¶çš„åœ°å€*/
     './txt/start.txt',
     /*æ–‡ä»¶ç¼–ç */
     'utf-8',
     /*å›è°ƒï¼Œå¤„ç†é”™è¯¯å’Œè¯»å–å†…å®¹*/
     (err, data) => {
       if (err) return 
       console.log(data)
     }
   )
   ```

## å¼‚æ­¥å†™å…¥æ–‡ä»¶

1. å¼•å…¥ `fs` æ¨¡å—

   ```js
   const fs = require('fs')
   ```

2. ä½¿ç”¨ `fs` çš„ `writeFile` æ–¹æ³•

   ```js
   const text = 'Create on' + Date.now()
   fs.writeFile(
     /*éœ€è¦å†™å…¥çš„æ–‡ä»¶åœ°å€*/
     './txt/final.txt',
     /*å†™å…¥å†…å®¹*/
     text,
     /*æ–‡ä»¶ç¼–ç */
     'utf-8',
     /*å›è°ƒå¤„ç†å¼‚å¸¸ï¼Œæ²¡æœ‰å¼‚å¸¸ä¹Ÿä¼šè°ƒç”¨*/
     err => {
       if (err) return console.log(err)
     }
   )
   ```

## å®Œæ•´demo

```js
const fs = require('fs')

const textIn = fs.readFileSync('./txt/input.txt', 'utf-8')
console.log(textIn)

const textOut = `This is what we know about the avocado: ${textIn}.\nCreated on ${Date.now()}`
fs.writeFileSync('./txt/output.txt', textOut)
console.log('File written!')
```

```js
const fs = require('fs')

fs.readFile('./txt/start.txt', 'utf-8', (err, data1) => {
  if (err) {
    throw err
  }

  fs.readFile(`./txt/${data1}.txt`, 'utf-8', (err, data2) => {
    console.log(data2)
    fs.readFile(`./txt/append.txt`, 'utf-8', (err, data3) => {
      console.log(data3)

      fs.writeFile('./txt/final.txt', `${data2}\n${data3}`, 'utf-8', (err) => {
        if (err) return console.log(err)
        console.log('Your file has been writtenğŸ˜')
      })
    })
  })
})

console.log('Reading File...')
```

